<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QXSB7M1EY2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-QXSB7M1EY2', { 'send_page_view': true });
    </script>

    <meta charset="UTF-8">
    <title>正在進入問卷...</title>
    <style>
        body { font-family: sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; background-color: #f9f9f9; }
        .container { text-align: center; }
    </style>
</head>
<body>
    <div class="container">
        <h2>問卷分配中...</h2>
        <p>如果沒有自動跳轉，請 <a id="direct-link" href="#">點擊此處</a></p>
    </div>

    <script>
        // 依照妳要求的新順序排列
        var surveys = [
            "https://forms.gle/19K5jBdvTfVbK63m6", // 對應 Survey_A-1
            "https://forms.gle/tt1qVKCahTvpSBPo8", // 對應 Survey_A-2
            "https://forms.gle/KZarKJBnkTY3XtR67", // 對應 Survey_A-3
            "https://forms.gle/h6wVzssuQ4VXypoG6", // 對應 Survey_A-4
            "https://forms.gle/CQLHy81gmBxDZFSHA", // 對應 Survey_B-1
            "https://forms.gle/zVYL8GDHEBUVpTcPA", // 對應 Survey_B-2
            "https://forms.gle/55brPUQSRqhLTYJ86"  // 對應 Survey_B-3
            "https://forms.gle/zqqxSaQsAZSZrPBx6"  // 對應 Survey_B-4
            "https://forms.gle/dknUAUULFjiabnU46"  // 對應 Survey_C-1
            "https://forms.gle/KY912Hqq6NS39ixn6"  // 對應 Survey_C-2
            "https://forms.gle/TW1CotaEYKFoWFj9A"  // 對應 Survey_C-3
            "https://forms.gle/BnSJSePyM34HGdpw8"  // 對應 Survey_C-4
        ];

        var randomIndex = Math.floor(Math.random() * surveys.length);
        var selectedSurvey = surveys[randomIndex];
        var surveyLabel = "Survey_" + (randomIndex + 1);

        document.getElementById('direct-link').href = selectedSurvey;

        // 發送追蹤事件
        gtag('event', 'select_content', {
            'content_type': 'survey_redirect',
            'item_id': surveyLabel,
            'event_callback': function() {
                window.location.replace(selectedSurvey);
            }
        });

        // 保險跳轉機制
        setTimeout(function(){
            window.location.replace(selectedSurvey);
        }, 3000);
    </script>
</body>
</html>
